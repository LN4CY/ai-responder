test_gemini_surgical_fallback (__main__.TestAIProviders.test_gemini_surgical_fallback)
Test that Gemini provider surgically falls back if Maps is unsupported. ... 2026-02-08 13:12:23,953 [INFO] config: Using default system prompt for gemini
2026-02-08 13:12:23,953 [INFO] providers.gemini: Calling Gemini model: gemini-3-flash-preview (Grounding: True)
2026-02-08 13:12:23,953 [WARNING] providers.gemini: \u26a0\ufe0f Grounding issue detected: google_maps is not supported
2026-02-08 13:12:23,953 [WARNING] providers.gemini: \U0001f4cd Model gemini-3-flash-preview rejects Google Maps. Retrying with Search only.
2026-02-08 13:12:23,954 [INFO] providers.gemini: Gemini used search grounding
FAIL

======================================================================
FAIL: test_gemini_surgical_fallback (__main__.TestAIProviders.test_gemini_surgical_fallback)
Test that Gemini provider surgically falls back if Maps is unsupported.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "C:\Users\dremb\AppData\Local\Python\pythoncore-3.14-64\Lib\unittest\mock.py", line 1432, in patched
    return func(*newargs, **newkeywargs)
  File "E:\proj\AiAssited\ai-responder\tests\test_ai_responder.py", line 713, in test_gemini_surgical_fallback
    self.assertIn('google_maps', tool_names)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: 'google_maps' not found in ['google_search']

----------------------------------------------------------------------
Ran 1 test in 0.003s

FAILED (failures=1)
DEBUG TEST: ID(config)=2867222412912, Maps=True, Search=True
DEBUG GEMINI: ID(config)=2867222412912, Maps=True, Search=True
